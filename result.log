============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-8.3.5, pluggy-1.6.0
rootdir: D:\a\pyorps\pyorps
configfile: pyproject.toml
plugins: anyio-4.9.0, cov-6.1.1
collected 322 items

tests\test_core\test_cost_assumptions.py ............................... [  9%]
...                                                                      [ 10%]
tests\test_core\test_exceptions.py ..                                    [ 11%]
tests\test_core\test_path.py ............                                [ 14%]
tests\test_core\test_types.py ............                               [ 18%]
tests\test_graph\test_graph_api.py .                                     [ 18%]
tests\test_graph\test_graph_library_api.py ...                           [ 19%]
tests\test_graph\test_igraph_api.py .......                              [ 22%]
tests\test_graph\test_networkit_api.py ...............                   [ 26%]
tests\test_graph\test_networkx_api.py ................                   [ 31%]
tests\test_graph\test_path_finder.py ................................... [ 42%]
....                                                                     [ 43%]
tests\test_graph\test_rustworkx_api.py .............                     [ 47%]
tests\test_integration\test_path_finder_integration.py ................. [ 53%]
..                                                                       [ 53%]
tests\test_integration\test_rasterizer_integration.py ....               [ 54%]
tests\test_io\test_geo_dataset.py ........................               [ 62%]
tests\test_io\test_vector_loader.py .................................... [ 73%]
................                                                         [ 78%]
tests\test_raster\test_handler.py ................                       [ 83%]
tests\test_raster\test_rasterizer.py ..............                      [ 87%]
tests\test_utils\test_neighborhood.py .............                      [ 91%]
tests\test_utils\test_plotting.py ..............                         [ 96%]
tests\test_utils\test_traversal.py ............                          [100%]

============================== warnings summary ===============================
C:\hostedtoolcache\windows\Python\3.11.9\x64\Lib\site-packages\geopandas\_compat.py:7
  C:\hostedtoolcache\windows\Python\3.11.9\x64\Lib\site-packages\geopandas\_compat.py:7: DeprecationWarning: The 'shapely.geos' module is deprecated, and will be removed in a future version. All attributes of 'shapely.geos' are available directly from the top-level 'shapely' namespace (since shapely 2.0.0).
    import shapely.geos

tests/test_core/test_cost_assumptions.py::TestCostAssumptions::test_calculate_column_statistics_edge_cases
  C:\hostedtoolcache\windows\Python\3.11.9\x64\Lib\site-packages\pandas\core\arraylike.py:399: RuntimeWarning: divide by zero encountered in log2
    result = getattr(ufunc, method)(*inputs, **kwargs)

tests/test_core/test_cost_assumptions.py::TestCostAssumptions::test_column_relationship_detection_complete
tests/test_core/test_cost_assumptions.py::TestCostAssumptions::test_column_relationship_with_nulls_and_patterns
  D:\a\pyorps\pyorps\pyorps\core\cost_assumptions.py:775: RuntimeWarning: invalid value encountered in scalar divide
    if non_empty_cells / total_cells > 0.05:

tests/test_graph/test_path_finder.py::TestPathFinder::test_path_collection_replace
tests/test_raster/test_handler.py::TestRasterHandler::test_estimate_optimal_buffer_width
  D:\a\pyorps\pyorps\pyorps\raster\handler.py:361: DeprecationWarning: Calling np.sum(generator) is deprecated, and in the future will give a different result. Use np.sum(np.fromiter(generator)) or the python sum builtin instead.
    distance = np.sqrt(np.sum((a - b) ** 2 for a, b in zip(point1, point2)))

tests/test_integration/test_path_finder_integration.py::TestGraphLibraryPathFinding::test_path_finding_with_different_algorithms
  D:\a\pyorps\pyorps\tests\test_integration\test_path_finder_integration.py:361: UserWarning: Algorithm 'bidirectional_dijkstra' failed with library 'igraph': Algorithm bidirectional_dijkstra for IGraphAPI not supported!
    warnings.warn(f"Algorithm '{algorithm}' failed with library '{lib_name}': {e}")

tests/test_integration/test_path_finder_integration.py::TestGraphLibraryPathFinding::test_path_finding_with_different_algorithms
  D:\a\pyorps\pyorps\tests\test_integration\test_path_finder_integration.py:361: UserWarning: Algorithm 'bidirectional_dijkstra' failed with library 'rustworkx': Algorithm bidirectional_dijkstra for RustworkxAPI not supported!
    warnings.warn(f"Algorithm '{algorithm}' failed with library '{lib_name}': {e}")

tests/test_io/test_vector_loader.py::TestVectorLoaderHelpers::test_clip_data_by_mask_gdf
  D:\a\pyorps\pyorps\pyorps\io\vector_loader.py:155: UserWarning: The indices of the left and right GeoSeries' are not equal, and therefore they will be aligned (reordering and/or introducing missing values) before executing the operation. If this alignment is the desired behaviour, you can silence this warning by passing 'align=True'. If you don't want alignment and protect yourself of accidentally aligning, you can pass 'align=False'.
    return gdf[gdf.geometry.intersects(mask)]

tests/test_utils/test_traversal.py::TestTraversalHelpers::test_construct_edges
  D:\a\pyorps\pyorps\pyorps\utils\traversal.py:244: RuntimeWarning: overflow encountered in scalar add
    cost += raster[sr, sc] + raster[tr, tc]

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=============================== tests coverage ================================
_______________ coverage: platform win32, python 3.11.9-final-0 _______________

Name                                    Stmts   Miss  Cover   Missing
---------------------------------------------------------------------
pyorps\core\cost_assumptions.py           354     27    92%   52, 140, 153, 156, 158, 234, 246-248, 688-689, 697-698, 780-788, 794-801, 805-807, 895, 946
pyorps\core\exceptions.py                  29      2    93%   117-119
pyorps\core\path.py                        88      0   100%
pyorps\core\types.py                       18      0   100%
pyorps\graph\api\graph_api.py              10      0   100%
pyorps\graph\api\graph_library_api.py     154     63    59%   215, 313-322, 429-510, 527-567
pyorps\graph\api\igraph_api.py             90     23    74%   36, 56, 126, 155, 182, 195, 208-209, 213, 234-261
pyorps\graph\api\networkit_api.py          94     29    69%   37, 45, 47, 135, 166-174, 178, 190-191, 216-239
pyorps\graph\api\networkx_api.py           76     18    76%   43, 130, 167, 178-179, 183, 204-222
pyorps\graph\api\rustworkx_api.py          74     19    74%   35, 49-50, 53, 94-96, 155, 181-182, 204-213
pyorps\graph\path_finder.py               241     13    95%   185, 313-314, 335, 389-391, 492, 497, 500, 503, 533, 568
pyorps\io\geo_dataset.py                  164     18    89%   79, 86, 98, 100, 132-134, 158-160, 181, 185, 263-266, 292-294
pyorps\io\vector_loader.py                281     45    84%   99, 130, 136, 159-160, 166, 191, 208-209, 213, 235, 242-245, 337-338, 432-449, 502, 548, 568, 595-597, 605-632, 698, 748
pyorps\raster\handler.py                  195     10    95%   182-188, 347, 353, 431, 457-458, 550
pyorps\raster\rasterizer.py               210     40    81%   99, 127, 161, 174, 217, 225, 228, 238, 299, 349, 360-363, 397, 421, 432, 487-488, 513-539, 608-609, 643-644, 654
pyorps\utils\neighborhood.py              108      2    98%   70, 174
pyorps\utils\plotting.py                  187      4    98%   204, 276-278
pyorps\utils\traversal.py                 263     16    94%   320, 618-624, 672, 698-706, 709
---------------------------------------------------------------------
TOTAL                                    2636    329    88%
Coverage XML written to file coverage.xml
================= 322 passed, 10 warnings in 72.85s (0:01:12) =================
